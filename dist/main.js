(()=>{"use strict";function e(e){for(let t=0;t<e.value.length;t++)0===e.value[0].indexOf("-")&&(e.value=e.value.slice(1)),0===e.value[0].indexOf(" ")&&(e.value=e.value.slice(1));for(let t=e.value.length;t>0;t--)0===e.value[e.value.length-1].indexOf("-")&&(e.value=e.value.slice(0,e.value.length-1)),0===e.value[e.value.length-1].indexOf(" ")&&(e.value=e.value.slice(0,e.value.length-1))}(function(e){let t=document.querySelector("#timer-hours"),l=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");function a(){let e,t,l,n=(new Date("20 march 2021").getTime()-(new Date).getTime())/1e3;return n>=0?(e=Math.floor(n%60),t=Math.floor(n/60%60),l=Math.floor(n/60/60)):(e="0",t="0",l="0"),1===String(e).length&&(e=`0${e}`),1===String(t).length&&(t=`0${t}`),1===String(l).length&&(l=`0${l}`),{hours:l,minutes:t,seconds:e,timeRemaining:n}}function o(){let e=a();t.textContent=e.hours,l.textContent=e.minutes,n.textContent=e.seconds}o(),function(){let e=setInterval((function(){let u=a();u.timeRemaining>0?(t.textContent=u.hours,l.textContent=u.minutes,n.textContent=u.seconds):(o(),clearInterval(e))}),1e3)}()})(),(()=>{document.querySelector(".menu");const e=document.querySelector("menu"),t=(document.querySelector(".close-btn"),e.querySelectorAll("ul>li>a")),l=(document.querySelector("main"),()=>{e.classList.toggle("active-menu")});document.addEventListener("click",(t=>{t.target.closest(".menu")||t.target.classList.contains("close-btn")?l():t.target.closest(".active-menu")||e.classList.remove("active-menu")})),t.forEach((e=>{e.addEventListener("click",l)}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelector(".popup-content"),l=document.querySelectorAll(".popup-btn");document.querySelector(".popup-close "),l.forEach((l=>{l.addEventListener("click",(()=>{if(document.body.scrollWidth>768){t.style.left=0,e.style.display="block";let l=0,n=setInterval((function(){let e=l;e>=document.body.scrollWidth/2-185?clearInterval(n):(function(e){t.style.left=e+"px"}(e),l+=10)}),1)}else e.style.display="block"}))})),e.addEventListener("click",(l=>{let n=l.target;n.classList.contains("popup-close")?(e.style.display="none",t.style.left=""):(n=n.closest(".popup-content"),n||(e.style.display="none",t.style.left=""))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),l=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n.classList.contains("service-header-tab")&&t.forEach(((e,a)=>{e===n&&(e=>{for(let n=0;n<l.length;n++)e===n?(t[n].classList.add("active"),l[n].classList.remove("d-none")):(l[n].classList.add("d-none"),t[n].classList.remove("active"))})(a)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-dots")),l=document.querySelector(".portfolio-content");let n,a=0;(()=>{for(let l=0;l<e.length;l++)0===l?t.insertAdjacentHTML("beforeend",'<li class="dot dot-active"></li>'):l>0&&t.insertAdjacentHTML("beforeend",'<li class="dot"></li>')})();const o=document.querySelectorAll(".dot"),u=(e,t,l)=>{e[t].classList.remove(l)},r=(e,t,l)=>{e[t].classList.add(l)},c=()=>{u(e,a,"portfolio-item-active"),u(o,a,"dot-active"),a++,a>=e.length&&(a=0),r(e,a,"portfolio-item-active"),r(o,a,"dot-active")},d=(e=5e3)=>{n=setInterval(c,e)};l.addEventListener("click",(t=>{t.preventDefault(),u(e,a,"portfolio-item-active"),u(o,a,"dot-active");let l=t.target;l.matches("#arrow-right")?a++:l.matches("#arrow-left")?a--:l.matches(".dot")&&o.forEach(((e,t)=>{e===l&&(a=t)})),a>=e.length&&(a=0),a<0&&(a=e.length-1),r(e,a,"portfolio-item-active"),r(o,a,"dot-active")})),l.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)})),l.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d(3e3)})),d(3e3)})(),(()=>{const e=document.getElementById("command");let t;document.querySelectorAll(".command__photo"),document.addEventListener("mouseover",(e=>{e.target.classList.contains("command__photo")&&(t=e.target.src,e.target.src=e.target.dataset.img)})),e.addEventListener("mouseout",(e=>{e.target.classList.contains("command__photo")&&(e.target.src=t)}))})(),(()=>{const t=document.querySelectorAll(".calc-item"),l=document.getElementById("form3-name"),n=document.getElementById("form3-email"),a=document.getElementById("form3-phone"),o=document.getElementById("form2-name"),u=document.getElementById("form2-email"),r=document.getElementById("form2-phone"),c=document.getElementById("form1-name"),d=document.getElementById("form1-email"),v=document.getElementById("form1-phone"),s=document.getElementById("form2-message");t.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/,"")}))})),l.addEventListener("input",(()=>{l.value=l.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,"")})),l.addEventListener("blur",(()=>{e(l),l.value=l.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,""),""!==l.value&&(l.value=l.value[0].toUpperCase()+l.value.slice(1).toLowerCase()),l.value=l.value.replace(/([-])\1{1,}/g,"$1"),l.value=l.value.replace(/\s+/g," ")})),o.addEventListener("input",(()=>{o.value=o.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,"")})),o.addEventListener("blur",(()=>{e(o),o.value=o.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,""),""!==o.value&&(o.value=o.value[0].toUpperCase()+o.value.slice(1).toLowerCase()),o.value=o.value.replace(/([-])\1{1,}/g,"$1"),o.value=o.value.replace(/\s+/g," ")})),c.addEventListener("input",(()=>{c.value=c.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,"")})),c.addEventListener("blur",(()=>{e(c),c.value=c.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,""),""!==c.value&&(c.value=c.value[0].toUpperCase()+c.value.slice(1).toLowerCase()),c.value=c.value.replace(/([-])\1{1,}/g,"$1"),c.value=c.value.replace(/\s+/g," ")})),s.addEventListener("input",(()=>{s.value=s.value.replace(/[a-zA-Z"()='/№[{<|>@#$~%^&`*_+\]}]*?$/,"")})),s.addEventListener("blur",(()=>{e(s),s.value=s.value.replace(/[a-zA-Z"()='/№[{<|>@#$~%^&`*_+\]}]*?$/,""),s.value=s.value.replace(/([-])\1{1,}/g,"$1"),s.value=s.value.replace(/\s+/g," ")})),n.addEventListener("input",(()=>{n.value=n.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,"")})),n.addEventListener("blur",(()=>{e(n),n.value=n.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,""),n.value=n.value.replace(/([-])\1{1,}/g,"$1"),n.value=n.value.replace(/\s+/g,"")})),u.addEventListener("input",(()=>{u.value=u.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,"")})),u.addEventListener("blur",(()=>{e(u),u.value=u.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,""),u.value=u.value.replace(/([-])\1{1,}/g,"$1"),u.value=u.value.replace(/\s+/g,"")})),d.addEventListener("input",(()=>{d.value=d.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,"")})),d.addEventListener("blur",(()=>{e(d),d.value=d.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,""),d.value=d.value.replace(/([-])\1{1,}/g,"$1"),d.value=d.value.replace(/\s+/g,"")})),a.addEventListener("input",(()=>{a.value=a.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),a.value.length>13&&(a.value=a.value.slice(0,a.value.length-1))})),a.addEventListener("blur",(()=>{e(a),a.value=a.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),a.value=a.value.replace(/([-])\1{1,}/g,"$1"),a.value=a.value.replace(/\s+/g,"")})),r.addEventListener("input",(()=>{r.value=r.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),r.value.length>13&&(r.value=r.value.slice(0,r.value.length-1))})),r.addEventListener("blur",(()=>{e(r),r.value=r.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),r.value=r.value.replace(/([-])\1{1,}/g,"$1"),r.value=r.value.replace(/\s+/g,"")})),v.addEventListener("input",(()=>{v.value=v.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`]*?$/,""),v.value.length>13&&(v.value=v.value.slice(0,v.value.length-1))})),v.addEventListener("blur",(()=>{e(v),v.value=v.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),v.value=v.value.replace(/([-])\1{1,}/g,"$1"),v.value=v.value.replace(/\s+/g,"")}))})(),(()=>{const e="Что-то пошло не так",t="Отправка данных",l="Спасибо, Мы скоро свяжемся!",n=document.getElementById("form1"),a=document.getElementById("form2"),o=document.getElementById("form3"),u=document.getElementById("form1-name"),r=document.getElementById("form1-email"),c=document.getElementById("form1-phone"),d=document.getElementById("form2-name"),v=document.getElementById("form2-email"),s=document.getElementById("form2-phone"),i=document.getElementById("form2-message"),m=document.getElementById("form3-name"),p=document.getElementById("form3-email"),g=document.getElementById("form3-phone"),h=document.querySelector(".popup"),f=document.querySelector(".popup-content"),y=document.createElement("div"),E=document.createElement("div"),L=document.createElement("div");a.appendChild(L),n.addEventListener("submit",(a=>{if(a.preventDefault(),u.value.length>=2&&c.value.length>=7&&-1!==r.value.indexOf("@")){n.appendChild(y),y.textContent=t;const a=new FormData(n);let o={};for(let e of a.entries())o[e[0]]=e[1];$(o).then((e=>{if(200!==e.status)throw new Error("status network not 200");y.textContent=l})).then((()=>{setTimeout((()=>{y.textContent=""}),3e3)})).catch((()=>{y.textContent=e})),u.value="",r.value="",c.value=""}else c.value.length<7&&-1!==r.value.indexOf("@")&&u.value.length>=2&&(n.appendChild(y),y.textContent="Введите больше семи цифр")})),o.addEventListener("submit",(a=>{if(a.preventDefault(),m.value.length>=2&&g.value.length>=7&&-1!==p.value.indexOf("@")){f.appendChild(E),E.style.color="white",n.appendChild(y);const a=new FormData(o);y.textContent=t,E.textContent=t;let u={};for(let e of a.entries())u[e[0]]=e[1];$(u).then((e=>{if(200!==e.status)throw new Error("status network not 200");y.textContent=l,E.textContent=l})).then((()=>{setTimeout((()=>{y.textContent="",E.textContent="",h.style.display="none"}),3e3)})).catch((()=>{y.textContent=e,E.textContent=e})),m.value="",p.value="",g.value=""}else g.value.length<7&&-1!==p.value.indexOf("@")&&m.value.length>=2&&(n.appendChild(y),f.appendChild(E),E.style.color="white",y.textContent="Введите больше семи цифр",E.textContent="Введите больше семи цифр")})),a.addEventListener("submit",(o=>{if(o.preventDefault(),d.value.length>=2&&s.value.length>=7&&-1!==v.value.indexOf("@")){n.appendChild(y);const o=new FormData(a);y.textContent=t,L.textContent=t;let u={};for(let e of o.entries())u[e[0]]=e[1];$(u).then((e=>{if(200!==e.status)throw new Error("status network not 200");y.textContent=l,L.textContent=l})).then((()=>{setTimeout((()=>{y.textContent="",L.textContent=""}),3e3)})).catch((()=>{L.textContent=e})),d.value="",v.value="",s.value="",i.value=""}else s.value.length<7&&-1!==v.value.indexOf("@")&&d.value.length>=2&&(n.appendChild(y),L.style.color="white",y.textContent="Введите больше семи цифр",L.textContent="Введите больше семи цифр")}));const $=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"multipart/json"},body:JSON.stringify(e)})})(),((e=100)=>{let t=document.querySelector(".calc-type"),l=document.querySelector(".calc-block"),n=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),o=document.querySelector(".calc-count"),u=document.getElementById("total");l.addEventListener("change",(l=>{let r=t.options[t.selectedIndex].value;const c=l.target;0==r&&(n.value="",a.value="",o.value=""),c!==t&&c!==n&&c!==a&&c!==o||(()=>{let l=0,r=t.options[t.selectedIndex].value,c=+n.value,d=1,v=1;o.value>1&&(d+=(o.value-1)/10),a.value&&a.value<5?v*=2:a.value&&a.value<10&&(v*=1.5),r&&c&&(l=Math.floor(e*r*c*d*v)),u.textContent=l})()}))})()})();
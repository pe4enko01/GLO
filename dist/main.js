(()=>{"use strict";(function(e){let t=document.querySelector("#timer-hours"),l=document.querySelector("#timer-minutes"),a=document.querySelector("#timer-seconds");function n(){let e,t,l,a=(new Date("20 march 2021").getTime()-(new Date).getTime())/1e3;return a>=0?(e=Math.floor(a%60),t=Math.floor(a/60%60),l=Math.floor(a/60/60)):(e="0",t="0",l="0"),1===String(e).length&&(e=`0${e}`),1===String(t).length&&(t=`0${t}`),1===String(l).length&&(l=`0${l}`),{hours:l,minutes:t,seconds:e,timeRemaining:a}}function o(){let e=n();t.textContent=e.hours,l.textContent=e.minutes,a.textContent=e.seconds}o(),function(){let e=setInterval((function(){let r=n();r.timeRemaining>0?(t.textContent=r.hours,l.textContent=r.minutes,a.textContent=r.seconds):(o(),clearInterval(e))}),1e3)}()})(),(()=>{document.querySelector(".menu");const e=document.querySelector("menu"),t=(document.querySelector(".close-btn"),e.querySelectorAll("ul>li>a")),l=(document.querySelector("main"),()=>{e.classList.toggle("active-menu")});document.addEventListener("click",(t=>{t.target.closest(".menu")||t.target.classList.contains("close-btn")?l():t.target.closest(".active-menu")||e.classList.remove("active-menu")})),t.forEach((e=>{e.addEventListener("click",l)}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelector(".popup-content"),l=document.querySelectorAll(".popup-btn");document.querySelector(".popup-close "),l.forEach((l=>{l.addEventListener("click",(()=>{if(document.body.scrollWidth>768){t.style.left=0,e.style.display="block";let l=0,a=setInterval((function(){let e=l;e>=document.body.scrollWidth/2-185?clearInterval(a):(function(e){t.style.left=e+"px"}(e),l+=10)}),1)}else e.style.display="block"}))})),e.addEventListener("click",(l=>{let a=l.target;a.classList.contains("popup-close")?(e.style.display="none",t.style.left=""):(a=a.closest(".popup-content"),a||(e.style.display="none",t.style.left=""))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),l=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let a=e.target;a=a.closest(".service-header-tab"),a.classList.contains("service-header-tab")&&t.forEach(((e,n)=>{e===a&&(e=>{for(let a=0;a<l.length;a++)e===a?(t[a].classList.add("active"),l[a].classList.remove("d-none")):(l[a].classList.add("d-none"),t[a].classList.remove("active"))})(n)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-dots")),l=document.querySelector(".portfolio-content");let a,n=0;(()=>{for(let l=0;l<e.length;l++)0===l?t.insertAdjacentHTML("beforeend",'<li class="dot dot-active"></li>'):l>0&&t.insertAdjacentHTML("beforeend",'<li class="dot"></li>')})();const o=document.querySelectorAll(".dot"),r=(e,t,l)=>{e[t].classList.remove(l)},u=(e,t,l)=>{e[t].classList.add(l)},c=()=>{r(e,n,"portfolio-item-active"),r(o,n,"dot-active"),n++,n>=e.length&&(n=0),u(e,n,"portfolio-item-active"),u(o,n,"dot-active")},s=(e=5e3)=>{a=setInterval(c,e)};l.addEventListener("click",(t=>{t.preventDefault(),r(e,n,"portfolio-item-active"),r(o,n,"dot-active");let l=t.target;l.matches("#arrow-right")?n++:l.matches("#arrow-left")?n--:l.matches(".dot")&&o.forEach(((e,t)=>{e===l&&(n=t)})),n>=e.length&&(n=0),n<0&&(n=e.length-1),u(e,n,"portfolio-item-active"),u(o,n,"dot-active")})),l.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(a)})),l.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&s(3e3)})),s(3e3)})(),(()=>{const e=document.getElementById("command");let t;document.querySelectorAll(".command__photo"),document.addEventListener("mouseover",(e=>{e.target.classList.contains("command__photo")&&(t=e.target.src,e.target.src=e.target.dataset.img)})),e.addEventListener("mouseout",(e=>{e.target.classList.contains("command__photo")&&(e.target.src=t)}))})(),(()=>{const e=document.querySelectorAll(".calc-item"),t=document.getElementById("form3-name"),l=document.getElementById("form3-email"),a=document.getElementById("form3-phone"),n=document.getElementById("form2-name"),o=document.getElementById("form2-email"),r=document.getElementById("form2-phone"),u=document.getElementById("form1-name"),c=document.getElementById("form1-email"),s=document.getElementById("form1-phone"),d=document.getElementById("form2-message");e.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/,"")}))})),t.addEventListener("input",(()=>{t.value=t.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,"")})),t.addEventListener("blur",(()=>{rep(t),t.value=t.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,""),""!==t.value&&(t.value=t.value[0].toUpperCase()+t.value.slice(1).toLowerCase()),t.value=t.value.replace(/([-])\1{1,}/g,"$1"),t.value=t.value.replace(/\s+/g," ")})),n.addEventListener("input",(()=>{n.value=n.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,"")})),n.addEventListener("blur",(()=>{rep(n),n.value=n.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,""),""!==n.value&&(n.value=n.value[0].toUpperCase()+n.value.slice(1).toLowerCase()),n.value=n.value.replace(/([-])\1{1,}/g,"$1"),n.value=n.value.replace(/\s+/g," ")})),u.addEventListener("input",(()=>{u.value=u.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,"")})),u.addEventListener("blur",(()=>{rep(u),u.value=u.value.replace(/[a-zA-Z0-9,.:"();='/.,;№[{<|>?!@#$~%^&`*_+-\]}]*?$/,""),""!==u.value&&(u.value=u.value[0].toUpperCase()+u.value.slice(1).toLowerCase()),u.value=u.value.replace(/([-])\1{1,}/g,"$1"),u.value=u.value.replace(/\s+/g," ")})),d.addEventListener("input",(()=>{d.value=d.value.replace(/[a-zA-Z"()='/№[{<|>@#$~%^&`*_+\]}]*?$/,"")})),d.addEventListener("blur",(()=>{rep(d),d.value=d.value.replace(/[a-zA-Z"()='/№[{<|>@#$~%^&`*_+\]}]*?$/,""),d.value=d.value.replace(/([-])\1{1,}/g,"$1"),d.value=d.value.replace(/\s+/g," ")})),l.addEventListener("input",(()=>{l.value=l.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,"")})),l.addEventListener("blur",(()=>{rep(l),l.value=l.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,""),l.value=l.value.replace(/([-])\1{1,}/g,"$1"),l.value=l.value.replace(/\s+/g,"")})),o.addEventListener("input",(()=>{o.value=o.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,"")})),o.addEventListener("blur",(()=>{rep(o),o.value=o.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,""),o.value=o.value.replace(/([-])\1{1,}/g,"$1"),o.value=o.value.replace(/\s+/g,"")})),c.addEventListener("input",(()=>{c.value=c.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,"")})),c.addEventListener("blur",(()=>{rep(c),c.value=c.value.replace(/[а-яА-ЯёЁ0-9,:"();=/, ;№[{<|>?#$%^&`+\]}]*?$/,""),c.value=c.value.replace(/([-])\1{1,}/g,"$1"),c.value=c.value.replace(/\s+/g,"")})),a.addEventListener("input",(()=>{a.value=a.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),a.value.length>13&&(a.value=a.value.slice(0,a.value.length-1))})),a.addEventListener("blur",(()=>{rep(a),a.value=a.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),a.value=a.value.replace(/([-])\1{1,}/g,"$1"),a.value=a.value.replace(/\s+/g,"")})),r.addEventListener("input",(()=>{r.value=r.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),r.value.length>13&&(r.value=r.value.slice(0,r.value.length-1))})),r.addEventListener("blur",(()=>{rep(r),r.value=r.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),r.value=r.value.replace(/([-])\1{1,}/g,"$1"),r.value=r.value.replace(/\s+/g,"")})),s.addEventListener("input",(()=>{s.value=s.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`]*?$/,""),s.value.length>13&&(s.value=s.value.slice(0,s.value.length-1))})),s.addEventListener("blur",(()=>{rep(s),s.value=s.value.replace(/[а-яА-Яa-zA-ZёЁ,.:";='/.,;)(№[{<| >?!@#$~%^&*_`\]}]*?$/,""),s.value=s.value.replace(/([-])\1{1,}/g,"$1"),s.value=s.value.replace(/\s+/g,"")}))})(),(()=>{const e="Что-то пошло не так",t="Загрузка",l="Спасибо, Мы скоро свяжемся!",a=document.getElementById("form1"),n=document.getElementById("form2"),o=document.getElementById("form3"),r=document.getElementById("form1-name"),u=document.getElementById("form1-email"),c=document.getElementById("form1-phone"),s=document.getElementById("form2-name"),d=document.getElementById("form2-email"),v=document.getElementById("form2-phone"),i=document.getElementById("form2-message"),m=document.getElementById("form3-name"),p=document.getElementById("form3-email"),g=document.getElementById("form3-phone"),f=document.querySelector(".popup"),h=document.querySelector(".popup-content"),y=document.createElement("div"),E=document.createElement("div");a.addEventListener("submit",(n=>{if(n.preventDefault(),r.value.length>=2&&c.value.length>=7&&-1!==u.value.indexOf("@")){a.appendChild(y),y.textContent=t;const n=new FormData(a);let o={};for(let e of n.entries())o[e[0]]=e[1];L(o).then((e=>{if(200!==e.status)throw new Error("status network not 200");y.textContent=l})).then((()=>{setTimeout((()=>{y.textContent=""}),3e3)})).catch((()=>{y.textContent=e})),r.value="",u.value="",c.value=""}})),o.addEventListener("submit",(n=>{if(n.preventDefault(),m.value.length>=2&&g.value.length>=7&&-1!==p.value.indexOf("@")){h.appendChild(E),E.style.color="white",a.appendChild(y);const n=new FormData(o);y.textContent=t,E.textContent=t;let r={};for(let e of n.entries())r[e[0]]=e[1];L(r).then((e=>{if(200!==e.status)throw new Error("status network not 200");y.textContent=l,E.textContent=l})).then((()=>{setTimeout((()=>{y.textContent="",E.textContent="",f.style.display="none"}),3e3)})).catch((()=>{y.textContent=e,E.textContent=e})),m.value="",p.value="",g.value=""}})),n.addEventListener("submit",(o=>{if(o.preventDefault(),s.value.length>=2&&v.value.length>=7&&-1!==d.value.indexOf("@")){a.appendChild(y);const o=new FormData(n);y.textContent=t;let r={};for(let e of o.entries())r[e[0]]=e[1];L(r).then((e=>{if(200!==e.status)throw new Error("status network not 200");y.textContent=l})).then((()=>{setTimeout((()=>{y.textContent=""}),3e3)})).catch((()=>{y.textContent=e})),s.value="",d.value="",v.value="",i.value=""}}));const L=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"multipart/json"},body:JSON.stringify(e)})})(),((e=100)=>{let t=document.querySelector(".calc-type"),l=document.querySelector(".calc-block"),a=document.querySelector(".calc-square"),n=document.querySelector(".calc-day"),o=document.querySelector(".calc-count"),r=document.getElementById("total");l.addEventListener("change",(l=>{let u=t.options[t.selectedIndex].value;const c=l.target;0==u&&(a.value="",n.value="",o.value=""),c!==t&&c!==a&&c!==n&&c!==o||(()=>{let l=0,u=t.options[t.selectedIndex].value,c=+a.value,s=1,d=1;o.value>1&&(s+=(o.value-1)/10),n.value&&n.value<5?d*=2:n.value&&n.value<10&&(d*=1.5),u&&c&&(l=Math.floor(e*u*c*s*d)),r.textContent=l})()}))})()})();